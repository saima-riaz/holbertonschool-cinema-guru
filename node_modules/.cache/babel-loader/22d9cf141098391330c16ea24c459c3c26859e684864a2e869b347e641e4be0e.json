{"ast":null,"code":"var _jsxFileName = \"/Users/saima/Desktop/Full stack spe/holbertonschool-cinema-guru/src/routes/auth/Authentication.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./auth.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Button from \"../../components/general/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Authentication = ({\n  setIsLoggedIn,\n  setUserUsername\n}) => {\n  _s();\n  const [_switch, setSwitch] = useState(true);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const endpoint = _switch ? \"/api/auth/login\" : \"/api/auth/register\";\n    try {\n      const response = await axios.post(endpoint, {\n        username,\n        password\n      });\n      const token = response.data.token;\n      if (token) {\n        localStorage.setItem(\"jwtToken\", token);\n        setUserUsername(username);\n        setIsLoggedIn(true);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"Authentication failed:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          label: \"Sign In\",\n          className: _switch ? \"active\" : \"\",\n          onClick: () => setSwitch(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Sign Up\",\n          className: !_switch ? \"active\" : \"\",\n          onClick: () => setSwitch(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"auth-title\",\n        children: [_switch ? \"Sign in with your\" : \"Create a new\", \" account\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [_switch ? /*#__PURE__*/_jsxDEV(Login, {\n          setIsLoggedIn: setIsLoggedIn,\n          setUserUsername: setUserUsername,\n          setUsername: setUsername,\n          setPassword: setPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Register, {\n          setIsLoggedIn: setIsLoggedIn,\n          setUserUsername: setUserUsername,\n          setUsername: setUsername,\n          setPassword: setPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: _switch ? \"Sign In\" : \"Sign Up\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n_s(Authentication, \"Qfv1+IyMxs/jDPoso0tHkCIo4vs=\");\n_c = Authentication;\nexport default Authentication;\nvar _c;\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"names":["React","useState","axios","Login","Register","Button","jsxDEV","_jsxDEV","Authentication","setIsLoggedIn","setUserUsername","_s","_switch","setSwitch","username","setUsername","password","setPassword","handleSubmit","event","preventDefault","endpoint","response","post","token","data","localStorage","setItem","error","_error$response","console","message","className","children","label","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","_c","$RefreshReg$"],"sources":["/Users/saima/Desktop/Full stack spe/holbertonschool-cinema-guru/src/routes/auth/Authentication.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./auth.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Button from \"../../components/general/Button\";\n\nconst Authentication = ({ setIsLoggedIn, setUserUsername }) => {\n    const [_switch, setSwitch] = useState(true);\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        \n        const endpoint = _switch ? \"/api/auth/login\" : \"/api/auth/register\";\n        try {\n            const response = await axios.post(endpoint, { username, password });\n            const token = response.data.token;\n            \n            if (token) {\n                localStorage.setItem(\"jwtToken\", token);\n                setUserUsername(username);\n                setIsLoggedIn(true);\n            }\n        } catch (error) {\n            console.error(\"Authentication failed:\", error.response?.data || error.message);\n        }\n    };\n\n    return (\n        <div className=\"auth-container\">\n            <div className=\"auth-box\">\n                <div className=\"auth-tabs\">\n                    <Button\n                        label=\"Sign In\"\n                        className={_switch ? \"active\" : \"\"}\n                        onClick={() => setSwitch(true)}\n                    />\n                    <Button\n                        label=\"Sign Up\"\n                        className={!_switch ? \"active\" : \"\"}\n                        onClick={() => setSwitch(false)}\n                    />\n                </div>\n                <h2 className=\"auth-title\">\n                    {_switch ? \"Sign in with your\" : \"Create a new\"} account\n                </h2>\n                <form onSubmit={handleSubmit}>\n                    {_switch ? (\n                        <Login\n                            setIsLoggedIn={setIsLoggedIn}\n                            setUserUsername={setUserUsername}\n                            setUsername={setUsername}\n                            setPassword={setPassword}\n                        />\n                    ) : (\n                        <Register\n                            setIsLoggedIn={setIsLoggedIn}\n                            setUserUsername={setUserUsername}\n                            setUsername={setUsername}\n                            setPassword={setPassword}\n                        />\n                    )}\n                    <Button label={_switch ? \"Sign In\" : \"Sign Up\"} type=\"submit\" />\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Authentication;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}